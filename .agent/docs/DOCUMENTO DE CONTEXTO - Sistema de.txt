 DOCUMENTO DE CONTEXTO - Sistema de GestiÃ³n OIEM Abastible
1. DescripciÃ³n General del Proyecto
Nombre: Sistema de GestiÃ³n OIEM (Operaciones, Integridad y Excelencia de las Operaciones)
Cliente: Abastible (Empresa de gas - Chile)
Objetivo: Digitalizar el programa de gestiÃ³n OIEM para contratistas de distribuciÃ³n granel, permitiendo el registro de cumplimiento mensual de actividades de seguridad, gestiÃ³n de evidencias y reporterÃ­a.
Meta del programa: 85% de cumplimiento (NÂ° actividades realizadas / NÂ° actividades programadas Ã— 100)
Fecha lÃ­mite de reporte: 5to dÃ­a hÃ¡bil del mes entrante

2. Stack TecnolÃ³gico
ComponenteTecnologÃ­aBackendLaravel v12.x (PHP 8.2+)FrontendLivewire v3.xBase de DatosMySQLEstilosTailwind CSSAutenticaciÃ³nLaravel BreezeRoles y PermisosSpatie/laravel-permission

3. Roles del Sistema
RolDescripciÃ³nPermisos principalesadminAdministrador Abastible (Empresa Principal)CRUD elementos, CRUD actividades, ver todos los registros, ver/descargar evidencias, generar reportes, gestionar usuarioscontratistaUsuario EECC (Empresa Contratista)Registrar cumplimiento mensual, subir evidencias, ver su historial, gestionar sus propios usuarios operativosusuario_contratistaTrabajador de Contratista (Operativo)Registrar cumplimiento y ver historial UNICAMENTE de su servicio/dependencia asignada.

4. MÃ³dulos del Sistema
4.1 MÃ³dulo de AutenticaciÃ³n

Login / Logout
Registro de usuarios (controlado por admin)
RecuperaciÃ³n de contraseÃ±a
AsignaciÃ³n de roles

4.2 MÃ³dulo de GestiÃ³n de Elementos y Actividades (Admin)

CRUD de Elementos (Ej: "Elemento 1: Liderazgo y compromiso")
CRUD de Actividades dentro de cada elemento
Campos de actividad:

CÃ³digo (ej: 1.1, 2.1)
DescripciÃ³n
Criterios de cumplimiento
Frecuencia (Mensual, Trimestral, Semestral, Anual, Cuando aplique)



4.3 MÃ³dulo de Registro de Cumplimiento (Contratista)

SelecciÃ³n de periodo (mes/aÃ±o)
Datos del contratista:

Nombre EECC
Dependencia
Personas nuevas ingresadas
NÂ° supervisores
NÂ° prevencionistas
DotaciÃ³n total


Registro por actividad:

Valor: 1 (cumple) / 0 (no cumple)
Responsable (texto)
DescripciÃ³n adicional (opcional)


CÃ¡lculo automÃ¡tico de % cumplimiento

4.4 MÃ³dulo de Evidencias

Descarga de plantilla PDF por actividad (para imprimir y firmar)
Subida de evidencia firmada (imagen/PDF)
VisualizaciÃ³n de evidencias
Descarga de evidencias (admin)

4.5 MÃ³dulo de ReporterÃ­a (Admin)

Dashboard con estadÃ­sticas generales
Filtros por: EECC, dependencia, periodo
Exportar a Excel
Exportar a PDF
% cumplimiento por elemento
% cumplimiento acumulado

4.6 MÃ³dulo de Historial (Contratista)

Ver registros anteriores
Editar registros (si estÃ¡ permitido)
Ver evidencias subidas

4.7 MÃ³dulo de GestiÃ³n de Usuarios para Contratista (AutogestiÃ³n)

CreaciÃ³n de trabajadores operativos
AsignaciÃ³n de Servicio y Dependencia (limitado a lo que la empresa tiene asignado)
Control de acceso: el trabajador hereda la empresa pero estÃ¡ restringido a su Ã¡rea.


5. Modelo de Base de Datos
5.1 Tablas principales
users
â”œâ”€â”€ id
â”œâ”€â”€ name
â”œâ”€â”€ email
â”œâ”€â”€ password
â”œâ”€â”€ parent_id (FK a users.id, para jerarquÃ­a de contratistas)
â”œâ”€â”€ tipo_contratista_id (AsignaciÃ³n especÃ­fica para operativos)
â”œâ”€â”€ dependencia_id (AsignaciÃ³n especÃ­fica para operativos)
â”œâ”€â”€ eecc_nombre (RazÃ³n Social)
â”œâ”€â”€ rut (RUT de la empresa o usuario)
â”œâ”€â”€ timestamps

contratista_asignaciones
â”œâ”€â”€ id
â”œâ”€â”€ user_id (FK a contratista principal)
â”œâ”€â”€ tipo_contratista_id (FK a tipos_contratista/servicios)
â”œâ”€â”€ dependencia_id (FK a dependencias)
â”œâ”€â”€ administrador_contrato_id (FK a administrador asignado)
â”œâ”€â”€ periodo_inicio (date)
â”œâ”€â”€ timestamps

elementos
â”œâ”€â”€ id
â”œâ”€â”€ numero (string, ej: "1", "6-7")
â”œâ”€â”€ nombre
â”œâ”€â”€ orden (int)
â”œâ”€â”€ activo (boolean)
â”œâ”€â”€ timestamps

actividades
â”œâ”€â”€ id
â”œâ”€â”€ elemento_id (FK)
â”œâ”€â”€ codigo (string, ej: "1.1")
â”œâ”€â”€ descripcion (text)
â”œâ”€â”€ criterios (text, nullable)
â”œâ”€â”€ frecuencia (enum: mensual, trimestral, semestral, anual, cuando_aplique)
â”œâ”€â”€ orden (int)
â”œâ”€â”€ activo (boolean)
â”œâ”€â”€ timestamps

registros
â”œâ”€â”€ id
â”œâ”€â”€ user_id (FK)
â”œâ”€â”€ periodo (date, primer dÃ­a del mes)
â”œâ”€â”€ eecc_nombre
â”œâ”€â”€ dependencia
â”œâ”€â”€ personas_nuevas (int)
â”œâ”€â”€ supervisores (int)
â”œâ”€â”€ prevencionistas (int)
â”œâ”€â”€ dotacion_total (int)
â”œâ”€â”€ porcentaje_cumplimiento (decimal)
â”œâ”€â”€ timestamps

registro_actividades
â”œâ”€â”€ id
â”œâ”€â”€ registro_id (FK)
â”œâ”€â”€ actividad_id (FK)
â”œâ”€â”€ cumple (boolean, nullable)
â”œâ”€â”€ responsable (string, nullable)
â”œâ”€â”€ descripcion_contratista (text, nullable)
â”œâ”€â”€ timestamps

evidencias
â”œâ”€â”€ id
â”œâ”€â”€ registro_actividad_id (FK)
â”œâ”€â”€ nombre_archivo
â”œâ”€â”€ ruta_archivo
â”œâ”€â”€ tipo_archivo
â”œâ”€â”€ tamaÃ±o (int)
â”œâ”€â”€ timestamps
5.2 Relaciones
User hasMany Registro
Elemento hasMany Actividad
Registro belongsTo User
Registro hasMany RegistroActividad
RegistroActividad belongsTo Registro
RegistroActividad belongsTo Actividad
RegistroActividad hasOne Evidencia

6. Estructura de Carpetas Sugerida (Laravel)
app/
â”œâ”€â”€ Http/
â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â”œâ”€â”€ Admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ ElementoController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ActividadController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardController.php
â”‚   â”‚   â”‚   â”œâ”€â”€ ReporteController.php
â”‚   â”‚   â”‚   â””â”€â”€ EvidenciaController.php
â”‚   â”‚   â””â”€â”€ Contratista/
â”‚   â”‚       â”œâ”€â”€ RegistroController.php
â”‚   â”‚       â”œâ”€â”€ HistorialController.php
â”‚   â”‚       â””â”€â”€ EvidenciaController.php
â”‚   â””â”€â”€ Middleware/
â”‚       â””â”€â”€ CheckRole.php
â”œâ”€â”€ Livewire/
â”‚   â”œâ”€â”€ Admin/
â”‚   â”‚   â”œâ”€â”€ ElementosCrud.php
â”‚   â”‚   â”œâ”€â”€ ActividadesCrud.php
â”‚   â”‚   â”œâ”€â”€ Dashboard.php
â”‚   â”‚   â””â”€â”€ TablaRegistros.php
â”‚   â””â”€â”€ Contratista/
â”‚       â”œâ”€â”€ FormularioRegistro.php
â”‚       â”œâ”€â”€ ListaActividades.php
â”‚       â””â”€â”€ SubidaEvidencia.php
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ User.php
â”‚   â”œâ”€â”€ Elemento.php
â”‚   â”œâ”€â”€ Actividad.php
â”‚   â”œâ”€â”€ Registro.php
â”‚   â”œâ”€â”€ RegistroActividad.php
â”‚   â””â”€â”€ Evidencia.php
â””â”€â”€ Services/
    â”œâ”€â”€ CalculoCumplimientoService.php
    â”œâ”€â”€ PlantillaEvidenciaService.php
    â””â”€â”€ ExportacionService.php

resources/views/
â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ app.blade.php
â”‚   â””â”€â”€ guest.blade.php
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ dashboard.blade.php
â”‚   â”œâ”€â”€ elementos/
â”‚   â”œâ”€â”€ actividades/
â”‚   â”œâ”€â”€ registros/
â”‚   â””â”€â”€ evidencias/
â”œâ”€â”€ contratista/
â”‚   â”œâ”€â”€ registro.blade.php
â”‚   â”œâ”€â”€ historial.blade.php
â”‚   â””â”€â”€ evidencias.blade.php
â”œâ”€â”€ livewire/
â”‚   â”œâ”€â”€ admin/
â”‚   â””â”€â”€ contratista/
â””â”€â”€ components/
    â”œâ”€â”€ elemento-card.blade.php
    â”œâ”€â”€ actividad-row.blade.php
    â”œâ”€â”€ toggle-cumplimiento.blade.php
    â””â”€â”€ progress-bar.blade.php

7. Rutas Principales
php// routes/web.php

// PÃºblicas
Route::get('/', fn() => redirect('/login'));

// AutenticaciÃ³n (Breeze)
require __DIR__.'/auth.php';

// Admin (Principal)
Route::middleware(['auth', 'role:admin'])->prefix('admin')->name('admin.')->group(function () {
    Route::get('/dashboard', [DashboardController::class, 'index'])->name('dashboard');
    Route::resource('elementos', ElementoController::class);
    Route::resource('elementos.actividades', ActividadController::class)->shallow();
    Route::get('/registros', [RegistroController::class, 'index'])->name('registros.index');
    Route::get('/registros/{registro}', [RegistroController::class, 'show'])->name('registros.show');
    Route::get('/evidencias', [EvidenciaController::class, 'index'])->name('evidencias.index');
    Route::get('/evidencias/{evidencia}/download', [EvidenciaController::class, 'download'])->name('evidencias.download');
    Route::get('/reportes', [ReporteController::class, 'index'])->name('reportes.index');
    Route::get('/reportes/excel', [ReporteController::class, 'exportExcel'])->name('reportes.excel');
    Route::get('/reportes/pdf', [ReporteController::class, 'exportPdf'])->name('reportes.pdf');
});

// Contratista (EECC)
Route::middleware(['auth', 'role:contratista'])->prefix('contratista')->name('contratista.')->group(function () {
    Route::get('/dashboard', [ContratistaController::class, 'dashboard'])->name('dashboard');
    Route::get('/registro', [RegistroController::class, 'create'])->name('registro.create');
    Route::post('/registro', [RegistroController::class, 'store'])->name('registro.store');
    Route::get('/registro/{registro}/edit', [RegistroController::class, 'edit'])->name('registro.edit');
    Route::put('/registro/{registro}', [RegistroController::class, 'update'])->name('registro.update');
    Route::get('/historial', [HistorialController::class, 'index'])->name('historial.index');
    Route::get('/plantilla/{actividad}', [PlantillaController::class, 'download'])->name('plantilla.download');
    Route::post('/evidencia/{registroActividad}', [EvidenciaController::class, 'store'])->name('evidencia.store');
    Route::get('/mis-evidencias', [EvidenciaController::class, 'index'])->name('evidencias.index');
});

8. Elementos y Actividades Iniciales (Seeder)
php// database/seeders/ElementosActividadesSeeder.php

$elementos = [
    [
        'numero' => '1',
        'nombre' => 'Liderazgo y compromiso',
        'actividades' => [
            ['codigo' => '1.1', 'descripcion' => 'EjecuciÃ³n del Programa SAFEALIGN', 'criterios' => '2 CS por cada jefatura o lÃ­nea de supervisiÃ³n, 2 SST por cada jefatura, 2 IRF por cada jefatura', 'frecuencia' => 'mensual'],
            ['codigo' => '1.2', 'descripcion' => 'ParticipaciÃ³n en CPHS de faena', 'criterios' => 'Registro de asistencia junto con acta respectiva', 'frecuencia' => 'mensual'],
            ['codigo' => '1.3', 'descripcion' => 'ReuniÃ³n de accountability', 'criterios' => 'PresentaciÃ³n de resultados al administrador de contrato bajo formato establecido', 'frecuencia' => 'mensual'],
        ]
    ],
    [
        'numero' => '2',
        'nombre' => 'EvaluaciÃ³n del riesgo y GestiÃ³n del riesgo',
        'actividades' => [
            ['codigo' => '2.1', 'descripcion' => 'Realizar anÃ¡lisis de riesgos cualitativo (AST) de tarea crÃ­tica', 'criterios' => 'AST documentado de una tarea crÃ­tica de la matriz de riesgos del Proceso de distribuciÃ³n granel', 'frecuencia' => 'mensual'],
            ['codigo' => '2.2', 'descripcion' => 'Cumplimiento de protocolos MINSAL', 'criterios' => '100% de cumplimiento de protocolos sanitarios vigentes', 'frecuencia' => 'mensual'],
        ]
    ],
    [
        'numero' => '5',
        'nombre' => 'Competencias y capacitaciÃ³n del personal',
        'actividades' => [
            ['codigo' => '3.1', 'descripcion' => 'EjecuciÃ³n de inducciones segÃºn D.S. NÂ°44 (Charla ODI)', 'criterios' => '100% del personal nuevo con inducciÃ³n completada', 'frecuencia' => 'mensual'],
            ['codigo' => '3.2', 'descripcion' => 'Cumplimiento de plan de capacitaciÃ³n anual', 'criterios' => 'Avance segÃºn cronograma del plan de capacitaciÃ³n', 'frecuencia' => 'mensual'],
        ]
    ],
    [
        'numero' => '6-7',
        'nombre' => 'Operaciones e Integridad MecÃ¡nica',
        'actividades' => [
            ['codigo' => '4.1', 'descripcion' => 'VerificaciÃ³n de Check List salida y retorno de camiÃ³n granel', 'criterios' => '100% de check list digitalizados correctamente aplicados', 'frecuencia' => 'mensual'],
            ['codigo' => '4.2', 'descripcion' => 'GestiÃ³n de cierre de tarjetas', 'criterios' => 'Tarjetas cerradas en plazo segÃºn procedimiento', 'frecuencia' => 'mensual'],
        ]
    ],
    [
        'numero' => '9',
        'nombre' => 'Servicios de terceros',
        'actividades' => [
            ['codigo' => '5.1', 'descripcion' => 'Garantizar 100% de AcreditaciÃ³n para EECC y trabajadores', 'criterios' => '100% del personal con acreditaciÃ³n vigente en Abastible', 'frecuencia' => 'mensual'],
            ['codigo' => '5.2', 'descripcion' => 'VerificaciÃ³n laboral (obligaciones laborales y previsionales)', 'criterios' => '100% de cumplimiento en pago de obligaciones', 'frecuencia' => 'mensual'],
            ['codigo' => '5.3', 'descripcion' => 'ReuniÃ³n de accountability mensual con resumen estadÃ­stico', 'criterios' => 'PresentaciÃ³n de resumen estadÃ­stico y evidencia de cada actividad', 'frecuencia' => 'mensual'],
        ]
    ],
    [
        'numero' => '10',
        'nombre' => 'InvestigaciÃ³n de accidentes',
        'actividades' => [
            ['codigo' => '6.1', 'descripcion' => 'EnvÃ­o de informe de investigaciÃ³n en plazo', 'criterios' => 'Informe enviado dentro del plazo establecido', 'frecuencia' => 'cuando_aplique'],
            ['codigo' => '6.2', 'descripcion' => 'VerificaciÃ³n del cierre de acciones correctivas', 'criterios' => 'Acciones correctivas derivadas de investigaciones cerradas', 'frecuencia' => 'mensual'],
        ]
    ],
    [
        'numero' => '12',
        'nombre' => 'EvaluaciÃ³n y Mejora de la Integridad de las Operaciones',
        'actividades' => [
            ['codigo' => '7.1', 'descripcion' => 'Registro de Incidentes no registrables', 'criterios' => 'Registro actualizado de incidentes menores', 'frecuencia' => 'mensual'],
            ['codigo' => '7.2', 'descripcion' => 'Registro de Incidentes registrables', 'criterios' => 'Registro actualizado de incidentes con consecuencias', 'frecuencia' => 'mensual'],
        ]
    ],
];

9. Reglas de Negocio
ReglaDescripciÃ³nRN-001El porcentaje de cumplimiento se calcula: (actividades cumplidas / total actividades) Ã— 100RN-002La meta es 85% de cumplimientoRN-003Solo se puede tener UN registro por EECC por periodo (mes/aÃ±o)RN-004El resumen estadÃ­stico debe enviarse el 5to dÃ­a hÃ¡bil del mes siguienteRN-005Las evidencias son obligatorias para marcar cumplimiento (configurable por admin)RN-006El admin puede editar elementos y actividades en cualquier momentoRN-007El contratista solo ve sus propios registros y evidenciasRN-008El admin ve todos los registros y evidencias de todos los contratistas

10. Componentes Livewire Principales
10.1 FormularioRegistro (Contratista)
php// Propiedades
public $periodo;
public $eecc_nombre;
public $dependencia;
public $personas_nuevas = 0;
public $supervisores = 0;
public $prevencionistas = 0;
public $dotacion_total = 0;
public $actividades = []; // ['actividad_id' => ['cumple' => null, 'responsable' => '']]

// MÃ©todos
public function mount()
public function setCumplimiento($actividadId, $valor)
public function guardar()
public function calcularPorcentaje()
10.2 ActividadesCrud (Admin)
php// Propiedades
public $elemento;
public $actividades;
public $editando = null;
public $codigo, $descripcion, $criterios, $frecuencia;

// MÃ©todos
public function crear()
public function editar($id)
public function actualizar()
public function eliminar($id)
10.3 Dashboard (Admin)
php// Propiedades
public $cumplimientoGeneral;
public $totalContratistas;
public $totalRegistros;
public $cumplimientoPorElemento = [];
public $filtroEecc, $filtroPeriodo;

// MÃ©todos
public function mount()
public function filtrar()
public function exportarExcel()
```

---

### 11. Plantilla de Evidencia (PDF)

Cada actividad genera una plantilla PDF con:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           EVIDENCIA DE CUMPLIMIENTO                 â”‚
â”‚         Programa OIEM - Abastible 2025              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ EECC: ________________  Dependencia: ______________ â”‚
â”‚ Periodo: _____________  Fecha: ____________________ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ACTIVIDAD: [CÃ³digo] - [DescripciÃ³n]                 â”‚
â”‚ CRITERIOS: [Criterios de cumplimiento]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OBSERVACIONES:                                      â”‚
â”‚ __________________________________________________ â”‚
â”‚ __________________________________________________ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DETALLE DE CUMPLIMIENTO:                            â”‚
â”‚ __________________________________________________ â”‚
â”‚ __________________________________________________ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ________________      ________________             â”‚
â”‚  Responsable EECC      Supervisor/Prev.             â”‚
â”‚  Nombre y firma        Nombre y firma               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 12. Flujo de Trabajo Principal
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ADMIN (Principal)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Configura elementos y actividades                           â”‚
â”‚  2. Define criterios y frecuencias                              â”‚
â”‚  3. Crea usuarios contratistas                                  â”‚
â”‚  4. Revisa dashboard de cumplimiento                            â”‚
â”‚  5. Descarga evidencias                                         â”‚
â”‚  6. Genera reportes                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CONTRATISTA (EECC)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Ingresa al sistema                                          â”‚
â”‚  2. Gestiona sus Usuarios Operativos (opcional)                 â”‚
â”‚  3. Selecciona periodo (mes/aÃ±o)                                â”‚
â”‚  4. Por cada actividad:                                         â”‚
â”‚     a. Descarga plantilla PDF (ğŸ“„)                              â”‚
â”‚     b. Imprime y firma con involucrados                         â”‚
â”‚     c. Escanea/fotografÃ­a                                       â”‚
â”‚     d. Sube evidencia (ğŸ“¤)                                      â”‚
â”‚     e. Marca cumplimiento (1 o 0)                               â”‚
â”‚     f. Indica responsable                                       â”‚
â”‚  5. Guarda registro                                             â”‚
â”‚  6. Sistema calcula % automÃ¡ticamente                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN revisa y reporta                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

13. Comandos de InstalaciÃ³n Inicial
bash# Crear proyecto Laravel
composer create-project laravel/laravel oiem-abastible

# Instalar dependencias
cd oiem-abastible
composer require livewire/livewire
composer require spatie/laravel-permission
composer require maatwebsite/excel
composer require barryvdh/laravel-dompdf

# Instalar Breeze con Livewire
composer require laravel/breeze --dev
php artisan breeze:install livewire

# Publicar configuraciones
php artisan vendor:publish --provider="Spatie\Permission\PermissionServiceProvider"

# Migraciones
php artisan migrate

# Seeders
php artisan db:seed --class=RolesPermisosSeeder
php artisan db:seed --class=ElementosActividadesSeeder
php artisan db:seed --class=AdminUserSeeder

# Compilar assets
npm install
npm run build

14. Variables de Entorno Importantes
envAPP_NAME="Sistema OIEM Abastible"
APP_URL=http://localhost

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=oiem_abastible
DB_USERNAME=root
DB_PASSWORD=

FILESYSTEM_DISK=local
EVIDENCIAS_PATH=evidencias

15. PrÃ³ximos Pasos Sugeridos

Fase 1: Configurar proyecto Laravel con Breeze + Spatie
Fase 2: Crear migraciones y modelos
Fase 3: Implementar CRUD de Elementos y Actividades (Admin)
Fase 4: Implementar formulario de registro (Contratista)
Fase 5: Implementar sistema de evidencias
Fase 6: Implementar dashboard y reportes
Fase 7: Testing y ajustes
Fase 8: Despliegue

